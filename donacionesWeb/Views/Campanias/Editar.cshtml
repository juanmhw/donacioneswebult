@model donacionesWeb.Models.ViewModels.CampaniaViewModel
@{
    ViewData["Title"] = "Editar Campaña";
    Layout = "_Layout";
    var id = ViewBag.CampaniaId;
    var imagenActual = ViewBag.ImagenUrl as string;
}

<div class="container mt-5">
    <h2 class="mb-4">Editar campaña</h2>

    <form asp-action="Editar" asp-route-id="@id" method="post" enctype="multipart/form-data">
        @Html.AntiForgeryToken()

        <div class="form-group">
            <label asp-for="Titulo"></label>
            <input asp-for="Titulo" class="form-control" />
            <span asp-validation-for="Titulo" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="Descripcion"></label>
            <textarea asp-for="Descripcion" class="form-control" rows="4"></textarea>
            <span asp-validation-for="Descripcion" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="MetaRecaudacion"></label>
            <input asp-for="MetaRecaudacion" class="form-control" type="number" step="0.01" />
            <span asp-validation-for="MetaRecaudacion" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label>Imagen actual:</label><br />
            <img src="@imagenActual" style="max-width: 200px;" class="img-thumbnail mb-2" />
        </div>

        <div class="form-group">
            <label asp-for="Imagen">Nueva Imagen (opcional)</label>
            <input asp-for="Imagen" type="file" class="form-control" />
            <span asp-validation-for="Imagen" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary mt-3">
            <i class="bi bi-save"></i> Guardar cambios
        </button>
    </form>
</div>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
